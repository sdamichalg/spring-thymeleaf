<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns="http://www.w3.org/1999/xhtml"
      lang="en">
<head>
    <meta charset="UTF-8">
    <title>Our books</title>
</head>
<body>
<h1>Nasze ksiązki</h1>

<tr th:each="book: ${books}">
    <p>Autor: <td th:text="${book.getAuthor()}"></td><br></p>
    <p>Tytuł: <td th:text="${book.getTitle()}"></td><br></p>
    <form th:action="@{/removeBook}" method="post">
        <input type="hidden" name="title" th:value="${book.getTitle()}">
        <input type="submit" value="Usuń z listy">
    </form>
    <hr>
</tr>

<form th:action="@{/addBook}" th:object="${newBook}" method="post">
    <p>Podaj tytuł: <input type="text" th:field="*{title}"></p>
    <div th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></div>
    <p>Podaj autora: <input type="text" th:field="*{author}"></p>
    <div th:if="${#fields.hasErrors('author')}" th:errors="*{author}"></div>
    <p><input type="submit" value="Dodaj do listy"></p>

</form>
</body>
</html>